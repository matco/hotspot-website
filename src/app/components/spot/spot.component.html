<div class="content">
	<h2>Spot</h2>
	<form name="form" (ngSubmit)="f.form.valid && save()" #f="ngForm" novalidate class="large-form">
		<div [ngClass]="{ 'has-error': f.submitted && !name.valid }">
			<mat-form-field>
				<input matInput type="text" name="name" [(ngModel)]="spot.name" #name="ngModel" required placeholder="Name">
				<mat-error *ngIf="f.submitted && !name.valid">Name is required</mat-error>
			</mat-form-field>
		</div>
		<div>
			<mat-form-field>
				<textarea matInput type="text" class="form-control" name="description" [(ngModel)]="spot.description" #description="ngModel" placeholder="Description"></textarea>
			</mat-form-field>
		</div>
		<div [ngClass]="{ 'has-error': f.submitted && !latitude.valid }">
			<mat-form-field>
				<input matInput type="text" class="form-control" name="latitude" [(ngModel)]="spot.latitude" #latitude="ngModel" placeholder="Latitude">
				<mat-error *ngIf="f.submitted && !latitude.valid">Latitude is required</mat-error>
			</mat-form-field>
		</div>
		<div [ngClass]="{ 'has-error': f.submitted && !longitude.valid }">
			<mat-form-field>
				<input matInput type="text" class="form-control" name="longitude" [(ngModel)]="spot.longitude" #longitude="ngModel" placeholder="Longitude">
				<mat-error *ngIf="f.submitted && !longitude.valid">Longitude is required</mat-error>
			</mat-form-field>
		</div>
		<button mat-raised-button (click)="retrieveLocation()" type="button">Use current location</button>
		<!--<div style="padding: 2rem 0;">
			<input type="file" accept="image/*;capture=camera" class="form-control" name="picture" [(ngModel)]="spot.picture" #description="ngModel" placeholder="Picture">
		</div>-->
		<div>
			<a mat-raised-button [routerLink]="['/home', {stash: stash?.uuid}]">Cancel</a>
			<button mat-raised-button [disabled]="loading">Save</button>
			<img *ngIf="loading" src="assets/loading.png" />
		</div>
	</form>
</div>
